pipeline {
   agent any

   stages {
      stage('code checkout') {
         steps {
           sh 'rm -r LiquorStoreServlet || true'
           sh 'git clone  https://github.com/shegoj/LiquorStoreServlet.git -b june'
         }
      }
      stage('Validation and Testing') {
         steps {
            sh  'cd LiquorStoreServlet; mvn clean install'
 
         }
      }
      stage('Deploy ') {
         steps {
            sh 'sudo  cp /var/lib/jenkins/.m2/repository/com/sample/LiquorStoreApp/1.0-SNAPSHOT/LiquorStoreApp-1.0-SNAPSHOT.war /var/lib/tomcat/webapps'
         }
      }
   }
}
