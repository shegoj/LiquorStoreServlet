pipeline {
   agent any
   parameters{
       choice(name: 'CHOICE', choices: ['SIT', 'UAT', 'PREPROD'], description: 'Select Deploy Environment')
   }

   stages {
      stage('Validation and Testing') {
         steps {

            sh  'mvn clean install   ' }
      }
      stage('Deploy ') {
         steps {
            sh 'sudo  cp /var/lib/jenkins/.m2/repository/com/sample/LiquorStoreApp/1.0-SNAPSHOT/LiquorStoreApp-1.0-SNAPSHOT.war /var/lib/tomcat/webapps'
         }
      }
      stage('clean up ') {
         steps {
            sh 'rm -rf * '
         }
      }
      stage('bye ') {
         steps {
            echo 'bye'
         }
      }
   }
}
